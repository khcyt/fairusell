const kh_global=Function("return globalThis;")()||Function("return this;")()||Function("return self;")();const as_module=undefined==this;const asWorker="undefined"===typeof window&&"undefined"===typeof process&&self;const cf="kh_js";const mf="kh_prototypes_esm";kh_global.kh??={};kh_global.kh.context??="undefined"!==typeof window?kh_global.parent==kh_global?"window":"iframe":"undefined"!==typeof process?"node.js":"undefined"!==typeof self?self.name??"worker":"unknown";kh_global.kh.storage??={};const cs=kh_global.kh.storage[cf]??={cf,ms:new Set};const ms=kh_global.kh.storage[mf]??={mf,cs};cs.ms.add(ms);let jsm_prefix;if("undefined"!==typeof process){jsm_prefix=`file:///${kh_global.kh.pathes.get("own-module")}`}else{jsm_prefix=nodeFN2ZK(`/contrib/jsm`)}(async function(){const kh_js={...await import(`${jsm_prefix}/kh_earlybird${VERSION}.js`)};import(`${jsm_prefix}/kh_functions${VERSION}.js`).then((module=>Object.assign(kh_js,module)));kh_global["kh-protos"]??=function(){const sz=function(s){if(!s)return s;return s.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")};if(!RegExp.prototype.sichere_zeichen)RegExp.prototype.sichere_zeichen=sz;RegExp.sichere_zeichen=sz;const def_func_props={enumerable:false,configurable:true,writable:true};if(!Function.prototype.clone){Object.defineProperty(Function.prototype,"clone",{value:function(){"use strict";if(this==null){throw new TypeError("Function.prototype.clone called on null or undefined")}const o_this=this;const is_constructor=o_this==false&&o_this.prototype.constructor;const ret=function(){return is_constructor?new o_this(...arguments):o_this.apply(this,arguments)};if(!is_constructor){Object.setPrototypeOf(ret,o_this);ret.__proto__=o_this.__proto__}for(let key in this)ret[key]=this[key];return ret},...def_func_props})}if(!BigInt.prototype.toJSON){Object.defineProperty(BigInt.prototype,"toJSON",{value:function(){"use strict";if(this==null){throw new TypeError("BigInt.prototype.toJSON called on null or undefined")}return this.toString()},...def_func_props})}if(!kh_global["ori_String.prototype.trim"]){const ori_trim=String.prototype.trim;Object.defineProperty(String.prototype,"trim",{value:function(charToTrim){"use strict";if(this==null){throw new TypeError("String.prototype.trim called on null or undefined")}if(0==arguments.length)return ori_trim.call(this);else{if(kh_js.isString(charToTrim)){charToTrim=RegExp.sichere_zeichen(charToTrim);charToTrim=new RegExp(`^[${charToTrim}]*(.*?)[${charToTrim}]*$`,"g");const match=charToTrim.exec(this);return null==match?this:match[1]}else if(charToTrim instanceof RegExp){const match=charToTrim.exec(this);return null==match?this:match[1]}else return this}},...def_func_props});kh_global["ori_String.prototype.trim"]=true}if(!String.prototype.hashCode){Object.defineProperty(String.prototype,"hashCode",{value:function(){"use strict";if(this==null){throw new TypeError("String.prototype.hashCode called on null or undefined")}let ret=0;for(let i=0,len=this.length;i<len;++i){ret=31*ret+this.charCodeAt(i)<<0}return ret},...def_func_props})}if(!String.prototype.endsWith){Object.defineProperty(String.prototype,"endsWith",{value:function(searchString,position){"use strict";if(this==null){throw new TypeError("String.prototype.endsWith called on null or undefined")}const subjectString=this.toString();if(typeof position!=="number"||!isFinite(position)||position>>>0!==position||position>subjectString.length){position=subjectString.length}position-=searchString.length;const lastIndex=subjectString.lastIndexOf(searchString,position);return lastIndex!==-1&&lastIndex===position},...def_func_props})}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(searchString,position){"use strict";if(this==null){throw new TypeError("String.prototype.startsWith called on null or undefined")}position=position||0;return this.indexOf(searchString,position)===position},...def_func_props})}if(!String.prototype.reverse){Object.defineProperty(String.prototype,"reverse",{value:function(){"use strict";if(this==null){throw new TypeError("String.prototype.reverse called on null or undefined")}return this.split("").reverse().join("")},...def_func_props})}if(!String.prototype.splice){Object.defineProperty(String.prototype,"splice",{value:function(index,count,add){"use strict";if(this==null){throw new TypeError("String.prototype.splice called on null or undefined")}if(0>index){index=this.length+index;if(0>index)index=0}return this.slice(0,index)+(add||"")+this.slice(index+count)},...def_func_props})}if(!String.prototype.format){Object.defineProperty(String.prototype,"format",{value:function(param,...further){if(this==null){throw new TypeError("String.prototype.format called on null or undefined")}if(!kh_js.isValid(param)&&kh_js.isEmpty(further))return this;const _0=kh_js.cloneObject(param);if(!kh_js.isEmpty(further)){if(!kh_js.isObject(param))param=[param,...further];else param=further.reduce(((prev,cur,idx)=>(prev[idx+1]=cur,param)),param)}return this.replace(/{((?:\w+)|(?:\w[\w\.]+\w))}/g,((placeholderWithDelimiters,placeholderWithoutDelimiters)=>{const ph_elems=placeholderWithoutDelimiters.split(".");const get_prop=(obj,prop,level)=>obj.hasOwnProperty(prop)?obj[prop]:"0"==prop&&0==level?_0:undefined;if(1==ph_elems.length){return T9`${get_prop(param,placeholderWithoutDelimiters,0)??placeholderWithDelimiters}`}else{let val=param;for(let i=0;i<ph_elems.length;++i){val=get_prop(val,ph_elems[i],i);if(!kh_js.isValid(val))break}return T9`${val}`}}))},...def_func_props})}function at(n){"use strict";n=Math.trunc(n)||0;if(0>n)n+=this.length;if(0>n||this.length<=n)return undefined;return this[n]}const array_types=[Array,String,Uint8Array];if("NodeList"in kh_global)array_types.push(kh_global.NodeList);if("HTMLCollection"in kh_global)array_types.push(kh_global.HTMLCollection);for(let C of array_types){if(!C.prototype.at){Object.defineProperty(C.prototype,"at",{value:at,...def_func_props})}}if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function(predicate){"use strict";if(this==null){throw new TypeError("Array.prototype.findIndex called on null or undefined")}if(typeof predicate!=="function"){throw new TypeError("predicate must be a function")}const length=this.length>>>0;const thisArg=arguments[1];for(let i=0;i<length;++i){const value=this[i];if(predicate.call(thisArg,value,i,this)){return i}}return-1},...def_func_props})}if(!Array.prototype.findLastIndex){Object.defineProperty(Array.prototype,"findLastIndex",{value:function(predicate){"use strict";if(this==null){throw new TypeError("Array.prototype.findLastIndex called on null or undefined")}if(typeof predicate!=="function"){throw new TypeError("predicate must be a function")}let i=this.length>>>0;const thisArg=arguments[1];while(i--){const value=this[i];if(predicate.call(thisArg,value,i,this)){return i}}return-1},...def_func_props})}if(!Array.prototype.findLast){Object.defineProperty(Array.prototype,"findLast",{value:function(predicate){"use strict";if(this==null){throw new TypeError("Array.prototype.findLast called on null or undefined")}if(typeof predicate!=="function"){throw new TypeError("predicate must be a function")}let i=this.length>>>0;const thisArg=arguments[1];while(i--){const value=this[i];if(predicate.call(thisArg,value,i,this)){return value}}return undefined},...def_func_props})}if(!Array.prototype.rotate){Object.defineProperty(Array.prototype,"rotate",{value:function(){let unshift=Array.prototype.unshift,splice=Array.prototype.splice;return function(count){"use strict";if(this==null){throw new TypeError("Array.prototype.rotate called on null or undefined")}let array=Object(this);let len=array.length>>>0;count=count>>0;unshift.apply(array,splice.call(array,count%len,len));return array}}(),...def_func_props})}if(!Array.prototype.entries){Array.prototype.entries=function(){let nextIndex=0;const arr=this;return{next:function(){return nextIndex<arr.length?{value:[nextIndex,arr[nextIndex++]],done:false}:{done:true}}}}}if(!Array.prototype.keys){Array.prototype.keys=function(){let nextIndex=0;const arr=this;return{next:function(){return nextIndex<arr.length?{value:nextIndex++,done:false}:{done:true}}}}}if(!Array.prototype.values){Array.prototype.values=function(){let nextIndex=0;const arr=this;return{next:function(){return nextIndex<arr.length?{value:arr[nextIndex++],done:false}:{done:true}}}}}if(!Object.prototype.equals){Object.defineProperty(Object.prototype,"equals",{value:function(){"use strict";const compare2Objects=function(x,y,leftChain=[],rightChain=[]){if(null!==x&&undefined!==x&&null!==Object.getPrototypeOf(x)&&null!==y&&undefined!==y&&null!==Object.getPrototypeOf(y)){if(isNaN(x)&&isNaN(y)&&"number"===typeof x&&"number"===typeof y)return true}if(x===y)return true;if("function"===typeof x&&"function"===typeof y||x instanceof Date&&y instanceof Date||x instanceof RegExp&&y instanceof RegExp||x instanceof String&&y instanceof String||x instanceof Number&&y instanceof Number){return x.toString()===y.toString()}if(!(x instanceof Object&&y instanceof Object))return false;if(x.isPrototypeOf(y)||y.isPrototypeOf(x))return false;if(x.constructor!==y.constructor)return false;if(x.prototype!==y.prototype)return false;if(-1<leftChain.indexOf(x)||-1<rightChain.indexOf(y))return false;for(let p in y){if(y.hasOwnProperty(p)!==x.hasOwnProperty(p))return false;else if(typeof y[p]!==typeof x[p])return false}for(let p in x){if(y.hasOwnProperty(p)!==x.hasOwnProperty(p))return false;else if(typeof y[p]!==typeof x[p])return false;switch(typeof x[p]){case"object":case"function":{leftChain.push(x);rightChain.push(y);if(!compare2Objects(x[p],y[p],leftChain,rightChain))return false;leftChain.pop();rightChain.pop();break}default:{if(x[p]!==y[p])return false;break}}}return true};if(1>arguments.length)return true;if("function"===typeof this&&"Object"==this.name)return Object.equals.call(...arguments);for(let i=0;i<arguments.length;++i){if(!compare2Objects(this,arguments[i]))return false}return true},enumerable:false,configurable:false,writable:true})}if("function"!==typeof Object.assign){Object.assign=function(target){"use strict";if(target==null){throw new TypeError("Cannot convert undefined or null to object")}target=Object(target);for(let index=1;index<arguments.length;++index){const source=arguments[index];if(source!=null){for(let key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}}return target}}if(!Object.entries){Object.entries=function(o){"use strict";const ret=[];for(let key in o){if(Object.prototype.hasOwnProperty.call(o,key)&&Object.prototype.propertyIsEnumerable.call(o,key)){ret.push([key.toString(),o[key]])}}return ret.sort((function(a1,a2){return a1[0]<a2[0]}))}}if(!Object.fromEntries){Object.fromEntries=function(iter){"use strict";const obj={};for(const pair of iter){if(Object(pair)!==pair){throw new TypeError("iterable for fromEntries should yield objects")}const{0:key,1:val}=pair;Object.defineProperty(obj,key,{configurable:true,enumerable:true,writable:true,value:val})}return obj}}if(!Object.keys){Object.keys=function(o){"use strict";return Object.entries(o).map((function(entry){return entry[0]}))}}if(!Object.values){Object.values=function(o){"use strict";return Object.entries(o).map((function(entry){return entry[1]}))}}if(!Number.parseInt)Number.parseInt=parseInt;if(!Number.parseFloat)Number.parseFloat=parseFloat;if(!Date.prototype.toISODateString){Object.defineProperty(Date.prototype,"toISODateString",{value:function(){"use strict";if(this==null){throw new TypeError("Date.prototype.toISODateString called on null or undefined")}const iso=this.toISOString();const pos=iso.indexOf("T");return iso.substring(0,pos)},...def_func_props})}if(!Date.prototype.toISOTimeString){Object.defineProperty(Date.prototype,"toISOTimeString",{value:function(full){"use strict";if(this==null){throw new TypeError("Date.prototype.toISOTimeString called on null or undefined")}const iso=this.toISOString();const pos=iso.indexOf("T");return iso.substring(pos+1,true==full?iso.length-1:iso.indexOf(".",pos+1))},...def_func_props})}kh_global.setImmediate??=function(){if("undefined"!==typeof process)return function(fn){process.nextTick(fn.bind.apply(fn,arguments))};else return function(fn){kh_global.setTimeout(fn.bind.apply(fn,arguments),0)}}();kh_global.setImmediateP??=function(){const argz=[...arguments];return new Promise((function(resolve,reject){kh_global.setImmediate((function(){resolve(argz[0]&&argz[0].bind.apply(argz[0],argz)())}))}))};kh_global.requestIdleCallback??=function(callback,options){options||={};const relaxation=1;const timeout=options.timeout||relaxation;const start=performance.now();return setTimeout((function(){callback({get didTimeout(){return options.timeout?false:performance.now()-start-relaxation>timeout},timeRemaining(){return Math.max(0,relaxation+(performance.now()-start))}})}),relaxation)}};kh_global.kh_start_remove??=()=>true;kh_global.kh_end_remove??=()=>true;kh_global.kh__end_remove??=()=>true;kh_global.kh_production_start_remove??=()=>true;kh_global.kh_production_end_remove??=()=>true;kh_global.kh__production_end_remove??=()=>true;kh_global["kh-protos"]()})();kh_global.LoadedScripts.get(mf).resolve(ms);